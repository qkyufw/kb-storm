# KeyCanvas (键图) 用户手册

## 目录

1. [概述](#概述)
2. [界面导航](#界面导航)
3. [基本操作](#基本操作)
   - [卡片操作](#卡片操作)
   - [连接操作](#连接操作)
   - [选择操作](#选择操作)
4. [高级功能](#高级功能)
   - [布局选项](#布局选项)
   - [导入导出](#导入导出)
   - [自由连线模式](#自由连线模式)
5. [快捷键](#快捷键)
6. [常见问题](#常见问题)

## 概述

KeyCanvas (键图) 是一款以键盘操作为核心的思维可视化工具，特别设计用于提高思考和组织创意的效率。它结合了思维导图和白板的优点，让您可以通过键盘快捷键快速创建和管理内容，减少鼠标操作带来的干扰。本手册将指导您使用 KeyCanvas 的各种功能，从基本操作到高级特性。

## 界面导航

KeyCanvas 的界面设计简洁直观，主要由以下部分组成：

- **顶部工具栏**：包含常用操作按钮，如创建卡片、撤销/重做、复制/粘贴等
- **无限画布区域**：主要工作区，用于创建和组织卡片
- **右下角缩放控制**：用于调整画布的缩放级别

![界面导航](./screenshots/interface.png)

## 基本操作

### 卡片操作

#### 创建卡片

- **使用快捷键**：按 `Ctrl+D`（默认，可在快捷键设置中自定义）
- **通过工具栏**：点击工具栏上的"新建卡片"按钮
- **双击画布**：在画布空白处双击

#### 编辑卡片

- **选中并按 Enter**：选择卡片后按 Enter 键进入编辑模式
- **双击卡片**：双击卡片直接进入编辑模式
- **完成编辑**：按 `Ctrl+Enter` 或按 Esc 完成编辑

#### 移动卡片

- **键盘方向键**：选中卡片后使用方向键移动
- **大幅移动**：按住 `Shift` + 方向键进行大幅度移动
- **鼠标拖动**：使用鼠标直接拖动卡片

#### 删除卡片

- **Delete 键**：选中卡片后按 Delete 键删除
- **工具栏按钮**：选中卡片后点击工具栏上的"删除"按钮

### 连接操作

#### 创建连接

1. **使用键盘快捷键**：
   - 选中一个卡片
   - 按 `Ctrl+I` 进入连线模式
   - 使用方向键选择目标卡片
   - 按 Enter 确认连接

2. **快速创建连接卡片**：
   - 选中一个卡片
   - 按 `Ctrl+方向键` 在指定方向创建一个新卡片并自动连接

3. **自由连线模式**：
   - 点击工具栏上的"自由连线"按钮
   - 在起始卡片上按下鼠标左键
   - 拖动到目标卡片
   - 释放鼠标按键完成连接

#### 编辑连接标签

- 选中连接线后按 Enter 键进入编辑模式
- 输入标签内容后按 Enter 确认

#### 删除连接

- 选中连接线后按 Delete 键删除

### 选择操作

#### 选择卡片

- **循环选择**：按 Tab 键在卡片间循环选择
- **方向选择**：按 Tab+方向键选择特定方向的卡片
- **多选**：按住 Ctrl 或 Shift 键同时点击多个卡片
- **全选**：按 Ctrl+A 选择所有卡片
- **框选**：在空白处按下鼠标左键并拖动创建选区框

#### 选择连接线

- **切换选择模式**：按 Tab+空格 切换到连接线选择模式
- **循环选择**：在连接线选择模式下按 Tab 键循环选择连接线
- **单击选择**：直接点击连接线

## 高级功能

### 布局选项

KeyCanvas 支持多种卡片布局算法，帮助您自动排列卡片：

1. 点击工具栏中的"布局"按钮
2. 选择布局算法:
   - **随机布局**：卡片在视图范围内随机分布
   - **网格布局**：卡片按矩形网格排列
   - **螺旋布局**：卡片按螺旋形式向外扩展
   - **环形布局**：卡片围绕中心点形成同心圆

每种布局都有额外设置选项，如间距和随机度。

### 导入导出

#### 导出功能

KeyCanvas 支持多种导出格式：

1. **Markdown 导出**:
   - 点击工具栏中的"导出为Markdown"按钮
   - 思维导图内容将被转换为Markdown格式
   - 元数据被保存，便于后续导入恢复完整画布

2. **Mermaid 导出**:
   - 点击工具栏中的"导出为Mermaid代码"按钮
   - 适合在支持Mermaid的平台（如GitHub、GitLab）中使用

3. **PNG 图片导出**:
   - 点击工具栏中的"导出为PNG图像"按钮
   - 将当前视图保存为高质量图片

#### 导入功能

1. **Markdown 导入**:
   - 点击工具栏中的"导入Markdown"按钮
   - 粘贴Markdown内容或上传文件
   - 支持导入之前导出的带元数据Markdown文件，完整还原思维导图

2. **Mermaid 导入**:
   - 点击工具栏中的"导入Mermaid"按钮
   - 粘贴Mermaid代码或上传文件
   - 自动解析并创建相应的卡片和连接

### 自由连线模式

自由连线模式允许您直接用鼠标绘制连接线：

1. 点击工具栏中的"自由连线"按钮
2. 在起点卡片上按下鼠标左键
3. 拖动到终点卡片
4. 释放鼠标左键完成连接

注意：起点和终点必须都位于卡片上，且不能是同一张卡片。

## 快捷键

KeyCanvas 提供了丰富的键盘快捷键，是提高生产力的关键：

| 功能 | 默认快捷键 |
|------|------------|
| 新建卡片 | Ctrl+D |
| 编辑卡片 | Enter |
| 完成编辑 | Ctrl+Enter 或 Esc |
| 删除卡片/连接线 | Delete 或 Backspace |
| 开始连线模式 | Ctrl+I |
| 在卡片间切换 | Tab (Shift+Tab 反向) |
| 向上/下/左/右移动卡片 | 方向键 |
| 大幅移动卡片 | Shift+方向键 |
| 在指定方向创建连接卡片 | Ctrl+方向键 |
| 缩放画布 | Ctrl+ +/- |
| 重置视图 | Ctrl+空格 |
| 复制 | Ctrl+C |
| 剪切 | Ctrl+X |
| 粘贴 | Ctrl+V |
| 全选 | Ctrl+A |
| 撤销 | Ctrl+Z |
| 重做 | Ctrl+Shift+Z |
| 显示帮助 | ? |
| 打开快捷键设置 | Ctrl+K |

您可以通过按 Ctrl+K 打开快捷键设置面板，自定义所有快捷键以适应您的工作习惯。

## 常见问题

### 如何保存我的思维导图？

KeyCanvas 提供多种保存方式：
1. 导出为 Markdown 格式，包含完整元数据（推荐）
2. 导出为 Mermaid 流程图代码
3. 导出为 PNG 图像

### 如何恢复之前的思维导图？

通过"导入 Markdown"功能，选择之前导出的包含元数据的Markdown文件，可以完整恢复所有卡片、连接以及它们的位置和样式。

### 如何在不同设备间共享思维导图？

导出为 Markdown 格式，然后在另一台设备上导入该文件。这样可以确保所有布局和样式都得到保留。

### 如何最大化键盘操作效率？

1. 熟记常用快捷键，特别是 Tab 导航、Ctrl+方向键创建连接卡片等
2. 使用 Tab+空格 切换卡片/连接线选择模式
3. 充分利用方向键和 Enter 进行导航和确认
4. 自定义您最常用操作的快捷键
